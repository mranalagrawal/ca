query getCollection(
  $lang: LanguageCode!
  $handle: String,
  $id: ID,
) @inContext(language: $lang) {
  collection(handle: $handle, id: $id) {
    description
    descriptionHtml
    handle
    image {
      altText
      height
      id
      url
      width
    }
    title
    products(first: 12) {
      # How can we reuse the objects on graphql?
      nodes {
        availableForSale
        id
        featuredImage { altText, height, url, width }
        title
        seo { description, title }
        tags
        details: metafield(namespace: "custom", key: "details") {
          value
        }
        variants(first: 1) {
          nodes {
            compareAtPriceV2 { amount, currencyCode }
            priceV2 { amount, currencyCode }
            quantityAvailable
          }
        }
      }

    }
  }
}

