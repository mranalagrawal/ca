query getCollection($lang: LanguageCode!, $handle: String, $id: ID)
@inContext(language: $lang) {
  collection(handle: $handle, id: $id) {
    description
    descriptionHtml
    handle
    image {
      altText
      height
      id
      url
      width
    }
    title
    link: metafield(namespace: "custom", key: "link_home") {
      value
    }
    products(first: 12) {
      # How can we reuse the objects on graphql?
      nodes {
        availableForSale
        handle
        id
        isGiftCard
        featuredImage {
          altText
          height
          url
          width
        }
        seo {
          description
          title
        }
        tags
        title
        vendor
        totalInventory
        details: metafield(namespace: "custom", key: "details") {
          value
        }
        breadcrumbs: metafield(namespace: "custom", key: "breadcrumbs") {
          value
        }
        variants(first: 1) {
          nodes {
            id
            compareAtPrice {
              amount
              currencyCode
            }
            price {
              amount
              currencyCode
            }
            quantityAvailable
            sku
          }
        }
      }
    }
  }
}
